<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>libgpio: libfile/file.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libgpio
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0ba2d3d4cdc1c6964879aa2b72394cb5.html">libfile</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">file.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>File Helper Library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &quot;<a class="el" href="file_8h_source.html">file.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for file.c:</div>
<div class="dyncontent">
<div class="center"><img src="file_8c__incl.png" border="0" usemap="#libfile_2file_8c" alt=""/></div>
<map name="libfile_2file_8c" id="libfile_2file_8c">
<area shape="rect" id="node5" href="file_8h.html" title="File Helper Library API. " alt="" coords="280,80,331,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a858593de08c4192ffa6ae6c6c5391a55"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a858593de08c4192ffa6ae6c6c5391a55">file_get_size</a> (char *filename, off_t *size)</td></tr>
<tr class="memdesc:a858593de08c4192ffa6ae6c6c5391a55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get size of file in bytes.  <a href="#a858593de08c4192ffa6ae6c6c5391a55">More...</a><br /></td></tr>
<tr class="separator:a858593de08c4192ffa6ae6c6c5391a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b8c4e83bb1dd0f72b3f1f766dba478"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a21b8c4e83bb1dd0f72b3f1f766dba478">file_is_present</a> (char *filename)</td></tr>
<tr class="memdesc:a21b8c4e83bb1dd0f72b3f1f766dba478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if file is present (i.e., exists)  <a href="#a21b8c4e83bb1dd0f72b3f1f766dba478">More...</a><br /></td></tr>
<tr class="separator:a21b8c4e83bb1dd0f72b3f1f766dba478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc777fccd6d2d2f39b594216f4aec975"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#adc777fccd6d2d2f39b594216f4aec975">file_read</a> (int fd, void *buf, size_t len)</td></tr>
<tr class="memdesc:adc777fccd6d2d2f39b594216f4aec975"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read specified number of bytes from file or socket.  <a href="#adc777fccd6d2d2f39b594216f4aec975">More...</a><br /></td></tr>
<tr class="separator:adc777fccd6d2d2f39b594216f4aec975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9802b9854d2e546409e3a0d13718d32a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a9802b9854d2e546409e3a0d13718d32a">file_write</a> (int fd, void *buf, size_t len)</td></tr>
<tr class="memdesc:a9802b9854d2e546409e3a0d13718d32a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write specified number of bytes to file or socket.  <a href="#a9802b9854d2e546409e3a0d13718d32a">More...</a><br /></td></tr>
<tr class="separator:a9802b9854d2e546409e3a0d13718d32a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ebfbb6a42ad59300cc3188b7c06dcb2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a2ebfbb6a42ad59300cc3188b7c06dcb2">file_owc</a> (char *filename, void *buf, size_t len)</td></tr>
<tr class="memdesc:a2ebfbb6a42ad59300cc3188b7c06dcb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open, write to, and close a file.  <a href="#a2ebfbb6a42ad59300cc3188b7c06dcb2">More...</a><br /></td></tr>
<tr class="separator:a2ebfbb6a42ad59300cc3188b7c06dcb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>File Helper Library. </p>
<dl class="section author"><dt>Author</dt><dd>Mark Greer <a href="#" onclick="location.href='mai'+'lto:'+'mgr'+'ee'+'r@a'+'ni'+'mal'+'cr'+'eek'+'.c'+'om'; return false;">mgree<span style="display: none;">.nosp@m.</span>r@an<span style="display: none;">.nosp@m.</span>imalc<span style="display: none;">.nosp@m.</span>reek<span style="display: none;">.nosp@m.</span>.com</a></dd></dl>
<p>Set of routines to provide easy-to-use ways to perform common Linux(tm) file operations. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a858593de08c4192ffa6ae6c6c5391a55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int file_get_size </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t *&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get size of file in bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Pointer to filename string </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">size</td><td>Pointer to where file size is placed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a21b8c4e83bb1dd0f72b3f1f766dba478"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool file_is_present </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if file is present (i.e., exists) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Pointer to filename string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true when file exists, false when it doesn't exist </dd></dl>

</div>
</div>
<a class="anchor" id="a2ebfbb6a42ad59300cc3188b7c06dcb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int file_owc </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open, write to, and close a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Pointer to filename string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Buffer containing data to write </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Number of bytes to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure</dd></dl>
<p>Open the specified file, write the specified number of bytes, and close the file. It may block indefinitely as described by the <a class="el" href="file_8c.html#a9802b9854d2e546409e3a0d13718d32a" title="Write specified number of bytes to file or socket. ">file_write()</a> documentation. </p>

</div>
</div>
<a class="anchor" id="adc777fccd6d2d2f39b594216f4aec975"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int file_read </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read specified number of bytes from file or socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>File descriptor to read from </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Buffer to place incoming data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Number of bytes to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure</dd></dl>
<p>Read the specified number of bytes from the file/pipe/socket associated with the passed in file descriptor. It will block waiting indefinitely for the specified number of bytes to be received or until it is interrupted. If the read() system call returns with a return code of zero, -ECONNRESET will be returned. </p>

</div>
</div>
<a class="anchor" id="a9802b9854d2e546409e3a0d13718d32a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int file_write </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write specified number of bytes to file or socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>File descriptor to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Buffer containing data to write </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Number of bytes to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure</dd></dl>
<p>Write the specified number of bytes to the file/pipe/socket associated with the passed in file descriptor. It will block indefinitely until the specified number of bytes have been accepted by the kernel or until it is interrupted. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 5 2017 16:05:34 for libgpio by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
